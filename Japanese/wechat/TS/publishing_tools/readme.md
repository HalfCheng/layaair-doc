#ミニゲームリリースツールとミニゲームカタログの紹介

>Author：charley
>
>本文書はLayaAirIDE 1.7.19.1 beta版に基づいて作成します。

###1、IDEリリース機能紹介

リリースボタンをクリックして、ミニゲームを選択すると、リリース画面は図1に示すようになります。

![图1](img/1.png) 


（図1）

#####リリースディレクトリについて

ソースディレクトリはリリースディレクトリと比較して分かりやすく、通常はデフォルトで作成すればいいです。プロジェクトディレクトリをコピーしてディレクトリが変化する場合は、ディレクトリが正しいかどうかを確認します。また、**ディレクトリパス内にスペース、中国語、中国語の記号などがあってはいけません。**

#####ファイルを除外する役割

ここにはよく開発者がいますので、よく分かりません。ここで削除したディレクトリを選択したら、削除したディレクトリ内のファイルは公開しないのではなく、圧縮しないのです。ここで除外すると、後ですべてのチェックが圧縮オプションを選択します。これらの削除対象のファイルはスキップされます。

#####圧縮とバージョン管理

これらの圧縮オプションは、チェックした後に圧縮を有効にします。具体的な使用は直感的なので、自分で体験してみてもいいです。あまり紹介しません。説明が必要なのは、いったん有効にすると時間がかかります。リリース期間は全部延長されます。また、バージョン管理を有効にするオプションをチェックしない場合。リリースするたびに、排除されていないファイルを圧縮します。ですから、部分だけ更新したら**を選択します。バージョン管理を有効にすると、更新されたバージョンだけを圧縮処理することができます。一定のリリース時間を減らすことができます。**

開発者がもっと使いやすい第三者の圧縮ツールがあれば、IDEが持っている圧縮ツールをチェックせずに、一番下の`后续执行脚本`機能は、カスタムコマンドラインツールまたはスクリプトを実行し、好きなツールで圧縮します。(*特に使いやすいツールをcharleyに紹介することもできます。)

#####コピーファイルについて

例えば、プロジェクトではローカルパッケージのディレクトリが計画されていますが、ファイルをコピーする2つのオプション機能により、ローカルパッケージのディレクトリを直接にゲームのカタログにコピーします。もちろん、ルートディレクトリの中のファイルはやはり手で処理します。これに対して、ツールグループの学生はまだ最適化中です。後のバージョンは解決できます。

###2、リリース後のゲームカタログの紹介

![img](img/2.png)  


（図2）

#### `code.js`プロジェクトファイルと`libs`ライブラリディレクトリ

Libsディレクトリは一般的には、Windowドメインの問題のために、ゲーム全体と引用されたライブラリをcode.jsに合わせてコピーしなくてもいいです。しかし、もしTSとJS項目がindex.1で引用されていないなら、プロジェクトの中で引用されたのか、あるいはAS項目の中でrequireで引用されました。code.jsには全部合わせられません。この場合は、自分で使うライブラリ、特に第三者ライブラリに対して、手動でコピーします。

#### `res`リソースディレクトリ

Resはデフォルトのリソースディレクトリですが、初期パッケージの制限のため、初期パッケージの内容を計画しています。統一されたディレクトリの下に置いたほうがいいです。初期パッケージの剥離に便利です。

この文書はjsをJSに統合します。

#### `game.js`ミニゲームの入り口ファイル

ゲームの入り口のJSファイルや適応ライブラリJSなどはここで導入されます。IDEはプロジェクトを作成する時にすでに生成されています。普通はここで動く必要がありません。

#### `game.json`ミニゲームの設定ファイル

開発者ツールとクライアントは、この設定を読み込み、関連するインターフェースのレンダリングと属性の設定を完了する必要があります。画面の縦横方向、ステータスバーの表示、ミニゲームのセパレートなどはここに配置されています。具体的にどのように配置し、パラメータの使用も可能です。[查看微信小游戏的开发文档](https://mp.weixin.qq.com/debug/wxagame/dev/index.html?t=2018115)。

#### `project.config.json`ミニゲームのアイテム設定ファイル

ファイルには小さいゲーム項目の情報が含まれています。appedなどの情報を修正したいなら、直接この中で編集できます。

>プロジェクトパラメータlib Versionの値が必ずgameであれば、ここでは一般的にエラーが発生しません。しかし、万が一LayaAirIDEで正常にリリースされても、適応ライブラリを引用してリリースしても、開発者ツールでエラーが発生したら、libVersionの値がゲームであるかどうかを確認することができます。いいえ、ゲームに変えます。

#### `weapp-adapter.js`微信のミニゲームのライブラリファイル

LayaAirIDEのリリースツールはリリース時に自動的に参照されます。



