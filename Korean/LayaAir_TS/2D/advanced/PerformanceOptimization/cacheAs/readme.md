#CacheAs 정적 캐시 최적화

속성 설정기에서 다른 공통 속성에서 캐치어스 캐치 캐치 캐치 캐시 캐시 캐시 적화와 기능을 소개했습니다.개발자도 UI 인터페이스에서 제작할 때 최대한 합리적으로 사용하도록 추천합니다. 다음은 UI 실례 전시 카치아스가 프로젝트에서 운용할 뿐만 아니라 CcheAs 사용 전후 데이터를 분석해 개발자들을 참고하도록 합니다.

CacheAs 캐시 캐시 캐시 캐시 캐시 캐시 캐시 기능을 사용하지 않은 상황을 먼저 살펴보자.webgl 의 디버깅 모드에서 UI 프레임 마다 나오는 Sprite 렌더가 23개, DrawCall 렌더링 횟수는 8, Shader 소재가 7차례다.(* 이 데이터는 최적화 후 성능 최적화 대비에 사용할 수 있다 *)



 ![imgage](img/1.png)<br/>

(그림 1)



##1, cacheAs normal 캐시 최적화

CcheAs를 사용할 때 카cheAs를'normal'모드로 설정하고 DrawCall, Shader 미변되지 않았고, Sprite 노드 지수는 23에서 8로 줄었고, 노드 보카시 성능을 3배에 가깝다.그림 2 개.

![图2](img/2.png)< br / > (그림 2)

**Tips**：

cacheAs 속성치가 'normal' 때 Canvas 에서 화보 캐시, webgl 모드에서 명령 캐시 (Webgl)이 모드의 성능 최적화 중등은 프레임 보카리스마의 노드를 줄일 수 있지만 DrawCall 수와 Shader 수를 줄일 수 없다.





##2, cacheAs bitmap 캐시 최적화

CcheAs를 사용할 때 cacheAs 를 'bitmap' 모드로 설정합니다.Sprite 노드 숫자는 8, DrawCall 이 1, Shader 가 0 으로 떨어졌다.단지 설정을 수정했을 뿐 성능은 카치아보다 10배 이상 최적화됐다.효과가 3 시에 제시한 것과 같다.

![图3](img/3.png)< br / > (그림 3)

**Tips**：

Canvas 아래는 여전히 화보 캐시 캐시, webgl 모드에서 rendeerTarget 캐시를 사용해 정적 비트맵으로 표시카드를 제출하는 것과 같습니다.여기에는 webGL 아래 rendertarget 캐시 모드가 2048 크기 제한을 넘어 2048이 초과 메모리 지출을 늘린다.또 재회할 때 지출이 크지만, drawcall 을 줄이고, 과장 성능이 가장 높다.

이 문서에서 우리의 예례는 UI 가 비교적 간단하다. 일부 대형 게임에 대해 노드 수가 50을 넘는 UI 가 적지 않은 가운데 캐치어스 캐치어스 캐시 캐시 캐치익 기술을 채택한 후, 과장 성능이 배로 높아질 수 있다.





##3, 캐시 최적화 선택

###3.1 메모리 및 CPU 시험

####bitmap 모드 및 메모리 증가

상례에서도 볼 수 있다. bitmap 비트맵 캐시 모드 를 사용한 뒤 캐시 메모리 액수가 증가해 이전의 17.22m에서 18.27m로 증가했다. 캐시 스케이트 시 메모리가 일부 소모됐지만, UI 의 폭이 크지 않아 늘어난 메모리는 크게 크지 않을 것이다.

####새 CPU 소모

가장 주의해야 할 것은 UI 가 빈번하게 경신될 것인지, 만약 빈번해지면 CPU 손실이 크기 때문에, 캐시 스케이트 대상이 바뀌면 엔진은 자동으로 캐시 스케이트를 재생하고, 캐시 그림의 과정이 CPU 를 소모할 수 있기 때문이다.

그렇다면 cacheAs 의 normal 또는 bitmap 모드를 사용하거나 cacheAs를 사용하지 않으면 메모리 증가와 CPU 소모에 대해 중점적인 고시요요요인으로 삼아야 한다.



###3.2 테스트 반복 재생 여부


LayaAir引擎提供的DebugPanel调试工具可以帮助大家查看游戏重绘区，在代码中增加`DebugPanel.init();` 方法 ，编译运行项目后，浏览器中会出现调试窗口，如图4所示。

![图3](img/4.png)< br / > (그림 4)


我们勾选“`显示当前cache重绘`"옵션이나".`显示所有重绘区域`… 이다UI 가 다시 그리면, 다시 그리는 영역이 녹색 상자를 나타낼 수 있으며, 녹색 상자의 왼쪽 위쪽은 다시 그리는 횟수와 재회시간, 성능 통계 도구의 Sprite, DrawCall 등이 변한다.

마우스 조작이 없는 상황에서 녹색 선틀이 자주 나타나면 설명한다**UI 가 빈번한 반복 으로 그리는 것 은 bitmap 캐시 모드 를 사용하지 않는 것 이 좋다. normal 모드 를 고려할 수 있다**.물론 UI 를 분계관리하고, 빈번하게 업데이트하는 것은 1층(cacheAS)을 사용하지 않고 경신하는 것은 1층(cacheAs)로 업데이트하는 방법도 성능을 높일 수 있다.


###3.3 저단 기형의 설정 요소

우리는 게임 프로젝트를 할 때, 일반적으로 휴대전화 설정을 고려할 때, 대다수는 게임에 적응하는 기형이 많을수록, 게임 오디션도 고등학교 저단으로 설정된 휴대전화를 테스트하고 최적화 조언을 제공한다.그렇다면 CPU 크기도 참고해야 한다.

일부 저단기에는 CPU 와 메모리가 높지 않아 렌더를 높이기 위해 cacheAS를 사용하면 문제가 생길 수 있다.

이때 개발자들은 취사할 필요가 있다. 성능은 게임의 광도를 선택하거나 취급한다.더 많은 저단적인 기형에 적응할 경우 반복적으로 테스트를 해야 한다. cacheAs 를 사용할 지 여부를 노루마엘과 bitmap 모드에 대비해 최적화 성능의 경우 CPU 와 메모리 손실을 최대한 줄일 수 있다.



##4、어떤 상황에서 cacheAs 를 사용할 수 없다

###4.1 대상은 아주 간단할 때 사용할 수 없습니다.

상대가 매우 간단할 때, 예를 들면 한 글자나 한 개의 그림, cacheAs 를 설치하는 것은 성능을 높이지 않을 뿐만 아니라 오히려 성능을 잃게 된다.

###4.2 자주 변하는 내용은 사용할 수 없다

용기 안에 자주 변화하는 내용이 있다. 예를 들면 용기 안에 애니메이션 혹은 카운트다운 이 장치를 설치하면 카cheAs가 손실된다.

성능 통계 패널의 Canvas 통계 통계정보가 첫 번째 값을 확인할 수 있습니다. 계속 변화하고 있다면, 이 상황에서 카치아스를 사용할 수 없습니다.