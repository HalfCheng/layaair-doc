#LayaAirIDEでAS 3プロジェクトを作成し、ディレクトリ構造を詳しく説明します。

>*author:charley version:LayaAirIDE 2.0*udate:2019-02-18

現在はAS 3開発者がFlashDevelopとFlash Buiderの環境開発を推奨していますが、LayaAirエンジンのHTML 5プロジェクトです。しかし、まずLayaAirIDEでプロジェクトを作成し、FlashDevelopまたはFlash Buiderで編集を開くことを提案します。LayaAirIDEでプロジェクトを作成するとデフォルトでクリアなディレクトリ構造が作成されます。LayaAirIDEツールでAS 3空プロジェクトを作成することを皮切りに、プロジェクトを作成し、プロジェクトの構造を紹介します。



##一、LayaAirIDEのダウンロードとインストール

LayaAirIDEとLayaAirエンジンを使うには、ゲーム中の任意の可視位置にエンジンマークを付ける必要があります。パワードby LayaAir Engine
エンジンマークを携帯する場合は無料で利用できます。そうでなければ、ダウンロード条項の中のWeChat QRコードに連絡してビジネスに連絡して有料授権を受ける必要があります。

条項を受けてから解凍して使えます。IDEは緑色版です。インストールする必要はありません。IDEには対応するエンジンバージョンが含まれていますので、追加でダウンロードする必要はありません。

LayaAirIDE 2.0ダウンロードアドレス：https:/ldc 2.layabox.com/layadownload/？type=layaairide



##二、LayaAirIDEでAS 3プロジェクトを作成する

####ステップ1:

LayaAirIDEを開いてクリックしてください。`新建`アイコンまたはテキストは、図1に示すように、新規プロジェクトインターフェースに入ります。

![图片](img/1.png)  


（図1）



####ステップ2:

選択`LayaAir 2D示例项目`プロジェクト名、プロジェクトパス、およびプログラミング言語とエンジンバージョンを選択したら、「`创建`」をクリックします。図2に示すように。

![图片](img/2.png) 


（図2）

####オプションを追加して説明します。

以下の二つのオプションはチェックしてもいいし、チェックしなくてもいいです。開発者が理解してから選択してください。

#####1、WeChat/Baiduのミニゲームbinディレクトリのクイックデバッグ

このオプションをチェックすると、プロジェクトを作成する際に、WeChatとBaiduのミニゲームプロジェクトファイルをプロジェクトのデバッグディレクトリ（bin）の下に同時に作成します。このように、WeChatまたはBaiduのミニゲーム開発ツールのデバッグプロジェクトを直接指定することができます。このように大量の頻繁なデバッグの時間を節約できます。デバッグの正式版をリリースするにはローカルパッケージだけをエクスポートします。エクスポートするたびに一定のリリース時間が必要です。デバッグ開発の効率に影響します。

#####2、FB/FDプロジェクトファイルを追加する

LayaAirIDEは必要不可欠なLayaAirエンジンの集積開発環境です。しかし、AS 3のベテランプログラマにとっては、IDEコード作成モードはAS 3の友好度に対してFlash Buidier（FB）とFlash Develop（FD）には遠く及ばないので、AS 3はデフォルトでこの項目をチェックして、IDEプロジェクトファイルを作成すると同時にFBとFDプロジェクトを作成し、FBとFD開発環境のプロジェクトを導入します。



####ステップ3:

「作成」をクリックすると、プロジェクトの構造が見えます。プロジェクトフォルダの構造は図3に示すようになります。

![图片](img/3.png) 

（図3）

これでAS 3プロジェクトの建設に成功しました。

*Tips:*

>LayaAirエンジンに接触したばかりの開発者には、例示的なプロジェクトを作成することを勧めます。もちろん、開発開始は他のプロジェクトの種類の作成も試みることができます。



##三、プロジェクトの構造を紹介する。

次に、前のセクションで作成したプロジェクト構造を組み合わせて、各ディレクトリの役割を紹介します。

###3.1プロジェクト配置ディレクトリ(.layaフォルダ)


 `.laya`フォルダに格納されているのは、開発運転中のプロジェクトの設定情報です。図4に示すように。

![4](img/4.png) 


（図4）

#### `compile.js`ファイル紹介

`compile.js`gulpカスタムコンパイルプロセスのスクリプトファイルです。開発者がgulpに詳しいなら、ここを動かないでください。

#### `launch.json`ファイル紹介

`launch.json`ファイルはプロジェクトデバッグのいくつかの設定情報を保存しています。それぞれLayaAirIDEのデバッグ設定とchromeブラウザデバッグ設定です。簡単に変えないでください。間違ったらプロジェクトのデバッグに影響します。

#### `layajs`を選択します`layajs.exe`ファイル紹介

`layajs`を選択します`layajs.exe`すべてAS 3がjsのコンパイラをコンパイルするので、layajsはmac環境に用いて、layajs.exeはwin環境に使います。同時に保留するのは、複数人が開発して協力するモードの下での多環境混用が似合うからです。

#### `publish.js`ファイル紹介

`publish.js`プロジェクトに対して公開されたスクリプトファイルです。開発者はここに動かないでください。

#### **その他の説明**

一部の設定ファイルはデフォルトではありませんが、リリース時には.layaディレクトリに保存されます。例えば、web版、WeChat、Baiduなどのミニゲームは、リリース後にそれぞれのタイプに対応して、異なるjsonの設定ファイルを保存します。例えば、wxgame.jsonはWeChatのミニゲームです。

古いバージョンのリリースプロファイルの名前はpbset.jsonです。

以上のように、いくつかの理解があれば大丈夫です。通常、開発者は修正する必要がありません。だから、深く理解する必要はない。



###3.2項目の出力ディレクトリ（bin）


 `bin`ディレクトリが保存されているのは現在のプロジェクトの出力ファイルです。図5に示すように。

![图5](img/5.png) 


（図5）

このディレクトリは、プロジェクトから出力されたjs、HTML、ゲームリソースなどのプロジェクトの実行ファイルと、ミニゲームプロジェクトファイル（プロジェクトを作成する際に、ミニゲームのクイックデバッグオプションをチェックした場合）を保存します。

デフォルトのlayaAirのデバッグやchromeのデバッグは、実行しているこのディレクトリのファイルです。



###3.3 UIプロジェクトディレクトリ（laya）

`laya`ディレクトリはLayaAirIDE現在のUI項目を保存するために使用されます。

![图6](img/6.png) 


（図6）

####「`assets`」目次

UIシーンに必要なコンポーネント画像、オーディオファイルなどのリソースを保存するために使用されます。

####「`pages`」目次

IDEのシーン、アニメーション、プリセットなどのプロファイルを保存します。

####「`.laya`」ファイル

これに注意してください。layaはディレクトリではなくファイルです。layaファイルはLayaAirIDEのUI項目設定ファイルです。



###3.4プロジェクトライブラリディレクトリ（libs）

「`libs`」カタログ内はプロジェクトのライブラリディレクトリで、プロジェクトで使用するLayaAirライブラリファイルを保存します。

AS言語のLayaAirエンジンライブラリファイルの具体的なディレクトリがあります。`libs/laya/src`下に落ちる。図7に示すように。

![图7](img/7.png)（図7）



###3.5プロジェクトのソースコードディレクトリ（src）

プロジェクトで使用するソースコードファイル（AS 3言語項目は.asファイル）は、デフォルトではSrcディレクトリに保存されます。

特に言いたいのは`ui`ここはIDEが自動的に生成したものです。開発者はここを変えないでください。変更しても次のエクスポートに変えられます。このカタログには自分のコードを保存しないでください。既存のコードも修正しないでください。

他の開発者は実際の必要に応じて自分でディレクトリ構造を計画すればいいです。コード例のソースコード項目構造を図8に示します。

![图8](img/8.png) 


（図8）



###3.6プロジェクト配置ファイル

![图9](img/9.png)  


（図9）

####  `项目名.laya` 

図9の`2D_DEMO_190218.laya`LayaAirIDEプロジェクトのプロジェクト配置ファイルで、ファイルには現在のプロジェクトのプロジェクト名、使用するライブラリバージョン番号などが記録されています。

たとえば:


```json

{"proName":"2D_DEMO_190218","engineType":1,"proType":0,"layaProType":1,"version":"2.0.0"}
```


#### `项目名.as3proj`

図9の`2D_DEMO_190218.as3proj`ファイルはFlash Developプロジェクトのプロジェクト構成ファイルです。Flash Developエディタを使ってAS 3プロジェクトを開発する時、Flash Developツール内で、メニューバーで「ファイル」->「開く」を通してプロジェクト名を見つけます。as 3 projのあるディレクトリはこのプロジェクトを開けます。

#### `.actionScriptProperties`ファイルと`.project`ファイル

`.actionScriptProperties`ファイルと`.project`ファイルはFlash Builderプロジェクトのプロファイルです。Flash Buiderを使用する場合は、メニューバー「ファイル」->「Flash Builderプロジェクトを導入する」ことでLayaAirIDEが作成したAS 3項目を導入します。

#### `语言版本config.json`

図9の`asconfig.json`IDEのコンパイル設定情報が保存されています。削除しないでください。



###3.7ディレクトリを公開する

リリースディレクトリはデフォルトでは存在しません。リリースボタンをクリックしてアイテムをリリースすると、対応するバージョンディレクトリが生成されます。図10に示すように。（専門的に機能文書の紹介がありますが、ここでは詳しく説明しません）

![图10](img/10.png) 


（図10）

図10に示すディレクトリ構造は、リリース後のバージョンディレクトリに対応しています。



###本編の終わりに

ここで、プロジェクト作成の基礎内容を紹介しました。IDEの紹介やIDEのデザインパターンを知りたいなら、IDE編を見ることができます。