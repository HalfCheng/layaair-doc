##バージョン管理の機能紹介

![publish](res/publish.png) 


バージョン管理については、最初はリンク後に乱数を加えて管理されていましたが、WeChatなどの環境ではキャッシュの問題が深刻で、乱数方式ではキャッシュの問題が解決できず、更新されたバージョンによってページが混乱するなどの現象が発生します。したがって、LayaAirIDEはリリース時にキャッシュ問題を根本的に解決する方案を追加しました。それは直接ファイル名を変更することです。ファイル名は全部違っています。キャッシュ問題は自然に存在しません。

###バージョン管理の仕組み

開発者がバージョン管理を有効にすると、リリース時に自動的にhash文字列のファイル名を生成し、同時に一つのversion.jsonのファイル名マッピングファイルを作成します。バージョン管理クラスResource Versionによる自動関連コードの中の実際のファイル名と名前変更後のバージョン管理制御のファイル。開発者がバージョン管理のファイルを有効にすると、リリース時にファイル名の中のhash文字列が自動的に更新されます。これは実行環境にとって、新しいファイルを呼び出したのに相当します。もちろんキャッシュによる問題はありません。

開発者は開発の過程で、最終的に生成されたファイル名がどのようなものかに注目する必要はありません。さらに、LayaAirIDE 2.0はプロジェクトを作成する際に、自動的にコードにバージョン管理クラスのResource Versionを統合していますので、開発者はResource Version類をどのように使うかについては、注目する必要はありません。バージョン管理を有効にしたい時に、プロジェクトのリリースインターフェースでバージョン管理を有効にするかどうかチェックすればいいです。

###バージョン管理の効果を有効にします。

プロジェクト発表画面では、バージョン管理を有効にするかどうかチェックすると、リリース時にファイル名にhash文字列を追加します。下図のように。ファイルが変更されたら、変更されたファイル名に対して新しいhash文字列を変更します。

![图3](res/3.png) 


上に示した効果は、左に開発環境のbinディレクトリ、右にバージョン管理を有効にしたリリースディレクトリです。jsディレクトリの下のjsファイルとresディレクトリの下のpng画像ファイル名は、hash文字列に追加されています。