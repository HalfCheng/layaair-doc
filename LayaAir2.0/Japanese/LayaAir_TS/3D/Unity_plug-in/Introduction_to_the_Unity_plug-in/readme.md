#ユニティプラグインの紹介

###### *version :2.3.0beta   Update:2019-9-27*

>###重要なヒント：LayaAir 2.0最新バージョン2.3.0 betaでは、Unity 2018.4.7バージョンに適応しました。

**アップグレードには注意が必要です。**Unityがアップグレードされた後、プロジェクトディレクトリのLayaAir 3 DとStreaming Asetsフォルダを削除します。新しいバージョンのUnityプラグインをインストールします。プロジェクトに古いバージョンのプラグインがない場合は、このステップを無視できます。

###ユニティ3 Dプロファイル

Unity 3 DはUnity Technologiesによって開発された三次元ビデオゲーム、建築可視化、リアルタイム三次元アニメーションなどのインタラクティブコンテンツを簡単に作成できるマルチプラットフォームの総合型ゲーム開発ツールであり、全面的に統合された専門ゲームエンジンであり、LayaAirは美術員の学習コストを減らすために、Unityに詳しい開発者が素早く手に入れることができます。LayaAirはUnityを採用します。プラグインは美術資源編集の優先ツールとして機能します。

Unityダウンロードアドレスは以下の通りです。[https://unity3d.com/get-unity/download/archive](https://unity3d.com/get-unity/download/archive)

###プラグインパネルの基本的な紹介

プラグインのダウンロード先:[插件地址](https://ldc2.layabox.com/layadownload/?type=layaairide-LayaAir%20IDE%202.0.0)をクリックして、リンクをダウンロードします。図1に示すように。

！[](img/1.png)<br/>(図1)

####エクスポートプラグインのインストール

unityを起動し、新規プロジェクトを作成し、ゲームに必要な資源や材質、スタンプなどを導入し、プロジェクト名を自分のニーズに合わせて命名することができます。ctrl+sは私たちのシーンを保存しています。ここに名前をtruckといいます。

リソース管理画面で、LayaAir 3 D変換ツールを右クリックして導入します。プラグインバージョンはLayaAirエンジン機能の増加により更新されますが、導入方法は完全に一致しています。

インポートツールが成功すると、リソース管理画面にLayaAir 3 DとStreaming Asetsというフォルダが表示されます。また、unityメニューバーにはプラグインメニューLayaAir 3 Dが表示されます。図2のように：

！[](img/2 gif)<br/>(図2)

メニューバーのLayaAir 3 Dをクリックすると、エクスポートパネルが表示されます。ここで詳しく説明します。

**Tips:**メニューLayaAir 3 Dをクリックした後、プルダウンメニューにはより多くのサブ項目が現れました。LayaAir Exportは出資設定パネルを指導しています。これをunity 3 Dのインターフェースの適した位置にドラッグしてもいいです。今度このプロジェクトを開くと、設定された位置に維持されます。（図3に示す）

**LayaAir=>help=>Demo、Study、Ansewers、TutorialなどはLayaAir公式サイトをクリックして、それぞれの例、学習ドキュメント、フォーラムを表しています。プラグインはエクスポートをサポートしています。**	

！[](img/3 gif)<br/>(図3)

####プラグインの詳細機能

プラグインの準備ができたら、プラグインのパネルを見てみます。

！[](img/4 png)<br/>(図4)

#####（1）Scene

​**Sceneカテゴリ**シーン全体を指すのです。シーンの中のモデル、材質、スタンプ、動画、またはフォトスタンプのすべての導出に関わらず、主にシーン制作に使われます。ファイルの拡張子はlsです。Sceneクラスまたはその継承クラスでロードする必要があります。

#####（2）スピリット3 D

​**Sprite 3 Dカテゴリ**シーンに比べて光照贴图の導出が少なく、キャラクターやゲーム中のアイテムの単独リソース導出によく使われます。ファイルの拡張子は.lhで、Spite 3 Dでロードします。

それらのロードと使用は私達が後に続くものです。**シーン**を選択します**精霊**紹介します。

#####（3）GameObject Setting

ゲームアイテムノードの設定

`Ignore Not Active Game Objects `
エクスポート時にunityシーンで非アクティブなノードを無視します。

`Batch Make The First Level Game Objects ` **（スプライト3 Dを選択しなければなりません。）**
一括エクスポートシーンのすべてのレベルノード。

#####（4）Mesh Sprite 3 D Setting

グリッドデータのエクスポート設定は、圧縮モデルのグリッドlmファイルサイズとして機能します。プロジェクトのように、カットなし（法線スタンプなし）と頂点色の両方をチェックしてください。20%ぐらいのモデルリソースサイズを節約できます。

`Ignore Vertices UV `UVスタンプを無視する

`Ignore Vertices Color`頂点の色情報を無視する

`Ignore Vertices Normal`法線を無視する

`Ignore Vertices Tangent`接線情報を無視する

`Compress`モデル圧縮

#####（5）Terrain Setting

unity型エクスポート設定

`Convert Terrain To Mesh `
シーンに地型がある場合は、メッシュモデルに変換します。
untiyの地型の製作はとても便利で、筆で地の形の高さを描くことができます。例えば、山川や川の溝など、ブラシで複数の細部のスタンプを描くこともできます。LayaAirエクスポートプラグインは地の形をMeshに変えて開発者に使いやすいです。違いは材質と普通の材質が違っています。細かいスタンプが含まれています。

#####（6）Animation setting

アニメーションの設定

`Compress`アニメーション圧縮

#####（7）Asets plotform

リソースプラットフォームの設定。

`IOS`を選択します`Android`各プラットフォームの専属資源は、一部の資源が通用しないため、複数の資源に分けなければなりません。現在はプラットフォームの専用テクスチャ圧縮フォーマットに対応しています。

`Conventional`汎用プラットフォームは、普通のJPGとPNGだけです。

#####（8）Other Setting

その他の設定

`Customize Export Root Directory Name `
フォルダ名をカスタマイズしてエクスポートします。デフォルトのフォルダ名は「layaScene+シーン名」です。

#####(9)エクスポート設定

エクスポート設定パネルを図5に示します。

**Run**LayaAirエンジンを使って直接にこのシーンを実行するにはクリックしてください。

**Export**現在のリソースをエクスポートし、クリックすると、現在のシーンまたはモデルのデータを指定のパスにエクスポートします。

**QRCode**二次元コードを生成します。携帯端末でプレビューができます。同じローカルエリアにいる必要があります。

**Browse**保存されたファイルのパス。

**Revert Config**設定を初期化します。

**Config 1-5**プロファイルを読みだします。

！[](img/5 png)<br/>(図5)

！[](img/6.png)<br/>(図6)