#最初のWeChatを作成します。

>*author:charley version:LayaAir 2.0 udate:2018-10-27*

###一、開発環境を整える

####1、LayaAirIDE統合開発環境をダウンロードしてインストールする

LayaAirIDEはLayaAirエンジンの集積開発環境であり、LayaAirエンジンとサンプルプロジェクト、UI、アニメーションなどの可視化編集、プロジェクトコードの作成と管理などの開発ツールを集積しています。**開発者はLayaAirIDEを直接採用してマイクロクレジットのゲームプロジェクトを作成し、リリースすることができます。**

**公式サイトのダウンロード**:[http://ldc2.layabox.com/layadownload/?type=layaairide](http://ldc2.layabox.com/layadownload/?type=layaairide)



####2、WeChat開発者ツールをダウンロードしてインストールする

WeChat開発者ツールは主にミニゲーム製品のプレビューとデバッグ、実機テスト、アップロード提出などに使います。ミニゲーム開発に必要なツールです。

**開発ツールのダウンロード先**:
[https://developers.weixin.qq.com/minigame/dev/devtools/download.html](https://developers.weixin.qq.com/minigame/dev/devtools/download.html)

![3](img/3.png)  







####3、小さなプログラムを作成した企業開発者アカウントは、開発者ID（AppID）を取得します。

アプリIDがなくてもデバッグは開発できますが、機能は制限されます。だから開発する前に、WeChat公衆プラットフォームに行って、小さなプログラムの開発者アカウントを作ったほうがいいです。

#####アカウント登録前の注意事項

1.**個人開発者として登録するには、印号は必要ないが、内部購入（支払）機能にもアクセスできない。**アクセス広告によって流量が変化し、広告アクセス時には個人情報を記入してもいいし、会社情報でもいいです。
2.ゲーム中なら**支払機能に関しては、企業開発者アカウントを使用しなければならない。**。そして、プレート番号を提出します。
3.WeChat公衆プラットフォームのアカウントを登録する時、分類はゲームの分類であることを覚えておいてください。さもなければ登録したアカウントは小さいプログラムだけを開発します。
4.ミニゲーム内で購入した場合、現在はAndroidシステムのバージョンだけが開通しています。広告はAndroidとiOSの両方にアクセスできます。

**登録住所**:[https://mp.weixin.qq.com/wxopen/waregister?action=step1](https://mp.weixin.qq.com/wxopen/waregister?action=step1)

開発者アカウントを登録してから、ログイン後、設定メニューの開発設定でAppIDが表示されます。下図のように開発者は記録が必要です。

![图2-2](img/2-2.png)

###

###二、LayaAirIDEで微信小ゲームプロジェクトを作成し、発表する。

####1、LayaAirIDEでミニゲームのサンプル項目を作成する

LayaAirIDEを開いてクリックしてください。`新建`新規プロジェクトのパネルをイジェクトします。パネル左の項目の種類リストからいずれかの項目の種類を選択し、パネル右側に項目名、プロジェクトパス、開発言語タイプ、エンジンバージョンを設定します。ミニゲームのプロジェクトを作成することができます。ミニゲームの項目については、チェックを忘れずに選択してください。`增加微信小游戏支持`をクリックします。

![img](img/4.png)



####2、プロジェクト開発

プロジェクト開発のこの一環は詳しく紹介しません。関連エンジンとIDEの使用は他の文書を見ることができます。私たちはサンプル項目を選択して作成しましたので、直接にミニゲームの発表コーナーに入ることができます。

####3、ミニゲームとしてリリース

プロジェクトの発表ボタンをクリックして、ポップアップのリリースプロジェクトのインターフェイスの中で、発表のプラットフォームを選んでWeChatの小さいゲームです。

プロジェクトでコンパイルしたことがないなら、プロジェクトを再コンパイルするかどうかチェックしてください。リリース時に再コンパイルします。

ファイル抽出が重要です。WeChat 4 Mパッケージアップロードの制限のためです。ファイル抽出機能により、指定されたWeChatゲーム項目ディレクトリに4 Mパッケージ内のファイルのみをコピーすることができます。下図のように。

>パッケージ制限は、8 Mまで可能です。関連内容は他のドキュメントで紹介されています。この記事は初心者向けの、簡単なゲームリリースの流れを把握しています。

![img](img/2-3.png) 



![图：文件提取](img/2-4.png) 

（図：ファイル抽出機能は、クリックして閲覧した後、フィルタでチェックした4 Mパッケージファイルのみをコピーすることができます）

**Tips**:

>リリースプラットフォームの右側の疑問符アイコンをクリックすると、各オプションの詳細な説明が表示されます。

リリースに必要な内容を設定してから。最終クリックでリリースします。WeChatのゲームアイテムを生成できます。



###三、WeChat開発者ツールでミニゲームプロジェクトを作成する

####1、開発者アカウントに登録し、項目の種類を選択する

WeChat web開発者ツールを開き、開発者のWeChat Scodeで登録します。を選択します**プログラム**項目設定に入るにはクリックしてください。

![img](img/8.png) 



####2、ミニゲームプロジェクトを作成する

プログラム項目をクリックして、ポップアップパネルで右下のプラス記号をクリックして、ミニゲームプロジェクトの作成したパネルをイジェクトすることができます。下図のように。

![img](img/8-1.png)  


`项目目录`抽出機能でコピーしたばかりのローカルパッケージを選択した方がいいです。この機能についてはまだ詳しくないです。フローを実行するために、LayaAirIDEがリリースしたばかりのゲームのカタログ（通常はプロジェクトのルートディレクトリの下のrelease\wxgame）を一時的に選択することもできます。

`AppID`以前WeChat公衆プラットフォームから見たAppIDを入力すればいいです。入力しなくても開発デバッグができますが、機能は制限されます。だからAppIDを入力したほうがいいです。



####3、WeChat開発者ツールのコンパイル

ゲームアイテムの作成が完了したら、ツール内で効果とデバッグをプレビューできます。

![13](img/9.png) 







####4、実機テストとデバッグ

LayaAirIDEでもプロジェクトの効果を調整できますので、適切に関連する問題がない限り、基本的に両方の効果が一致しない場合があります。ここで一番重要なのはクリックです。**プレビュー**機能は、携帯電話のウィーチャットを通じてコードをスキャンし、ウィーチャット内で実機テストとデバッグを行う。

![img](img/14.png) 


**Tips:**

本物のマシンをアップロードする時、デフォルトでは4 Mを超えてはいけません。パッケージは8 Mを超えてはいけません。だからIDEはカタログを発行します。サンプル項目のlibsというディレクトリは直接削除できます。この例のプロジェクトが使えるのは、code.jsに統合されているからです。4 Mを超えるとアップロードできないかもしれません。この問題は新しいバージョンでも最適化されます。







WeChatでコードをスキャンすると、プログラム項目を起動し、右上の浮遊窓ボタンをクリックして、デバッグと性能監視パネルを開くことができます。

![img](img/10.png)

実機調整と性能モニタパネルを開けたら、下図のようになります。

![img](img/11.png) 




これで、完全なミニゲームの開発プロセスは終了しました。簡単ですか？LayaAirIDEで開発されたミニゲームプロジェクトは、基本的にはシームレスなミニゲームアイテムです。