#微信小遊戯入門の紹介

>Author：charley

#####まず、WeChatとは何かを知りたいです。

ミニゲーム公式の説明は以下の通りです。

>WeChatミニゲームはWeChatのプログラムの一つの種類で、ポイントは遊びで、インストールをダウンロードする必要がなく、手軽な体験ができます。WeChat内の友達と一緒に遊べます。例えば、PK、囲みなどです。

ポイントをクリックしてプレイします。インストールをダウンロードする必要はありません。これはH 5ゲームですよね？

どう説明しますか？これはまずH 5の定義から言います。

一般にH 5はHTML 5の略称だと言われていますが、開発者の目にはHTML 5はWEBの技術基準であり、この規格に合っています。また、ブラウザで実行できるゲームこそHTML 5のゲームです。より多くの人は技術についてあまり知らないです。分かりやすくするために、つまりゲームをして、ダウンロードしてインストールする必要がないゲームをH 5ゲームと呼ぶ人もいます。

ウィーチャットゲームの実行環境はブラウザではなく、ブラウザでも実行できません。ウィーチャットアプリのRuntimeで実行します。WebglとはほとんどのCanvasとWebglを互換していますが、インストールされたHTML 5をダウンロードする必要がない点でプレイできます。厳密な定義から言えば、ミニゲームは標準的なHTML 5ゲームではないことは明らかです。

**では、**どうやって開発されたゲームがブラウザでも実行されますか？

####開発者はWeChatゲームのオープンAPIのみで開発できますか？

この二つの問題を持って、引き続き紹介します。

ご存知のように、LayaAirエンジンはHTML 5の全プラットフォームエンジンに基づいています。全プラットフォームである以上、WeChatミニゲームを見逃すことはできません。

そこで、ミニゲームのリリース当日には、LayaAirエンジンも開発者のために微信ミニゲームの適応ライブラリを発売しました。LayaAir 1.7.14版から、開発者は最新バージョンのエンジンまたはIDEをダウンロードして、適応教程の文書によって適応プログラムを初期化するだけで、HTML 5ゲーム項目を微信小ゲーム項目にシームレスに適合させることができます。

このように、LayaAirエンジンによって開発されたプロジェクトは、ブラウザで実行されるだけでなく、APP（iOSとAndroid）としてパッケージ化されたり、WeChatミニゲームのプラットフォームで実行されたりすることができる。

もしかしたら、開発者はまた知りたいのですが、WeChatはHTML 5ではないので、

####開発の過程でどのような違いに注意する必要がありますか？

WeChat公式APIを採用して開発するなら、DOMとBOMをサポートしない、ミニゲームは画布が一つしかない、Evalをサポートしない、XMLをサポートしないなど、注意すべき点があります。

しかし、

LayaAirエンジンの開発者にとっては、どのような違いがあるのかをわざわざ知る必要はなく、通常のLayaAirエンジン開発規則に従って開発すればいいです。開発が完了したら、プロジェクトのリリースボタンを直接クリックして、微信小ゲームプロジェクトとしてリリースできます。図1に示すように。

![图1](img/7.png)  


（図1）

じゃ、LayaAirエンジンの項目はワンタッチで発表してから全部マイクロフォンの環境で走ることができますか？理論的にはすべてサポートできます。小さいゲームを使ってもサポートしていない第三者の倉庫、または微信小ゲームの下にBUGがあります。カバーとcacheAsは最初からサポートされていません。その後、小さいゲームの公式技術とのコミュニケーションを経てサポートされましたが、修復されたバージョンに更新されていない場合もあります。の多くはcacheAsを使用しているので、カバーとcacheAsを慎重に使用することを提案します。

また、WeChatは、エンジンがcanvasのサイズをコントロールすることができません。ミニゲームのcanvasサイズは自動的に引き伸ばします。したがって、LayaAir部分の適応モードが無効になりますので、fixedatot、またはfull適合モードの使用を推奨します。

LayaAirエンジンを採用して開発された古いプロジェクトに対して、**最新バージョンのエンジンクラスを置換した後**メインプログラムの入り口のLaya.init()の前に、MiniAdpter.init()という方法を呼び出して、適応プログラムを初期化してから、WeChatゲームを完璧にサポートします。

**AS 3バージョンの適応初期化**


```java

//AS3版本初始化微信小游戏的适配
MiniAdpter.init();
//初始化引擎
Laya.init(1136,640);
```


**Type ScriptまたはJavaScriptバージョンは初期化に適しています。**


```javascript

//TS或JS版本初始化微信小游戏的适配
Laya.MiniAdpter.init();
//初始化引擎
Laya.init(1136,640);
```


>Tips：古いプロジェクトは専門的な文書で紹介されています。いらっしゃいませ。



その他のゲーム自体の紹介は、直接ゲーム公式文書を見てください。

[https://developers.weixin.qq.com/minigame/dev/index.html](https://developers.weixin.qq.com/minigame/dev/index.html)

小さいゲームの公式文書を見ることを強く勧めます。LayaAirエンジンの文書はエンジン関連のものが多いです。もちろん小さいゲームインターフェースのアプリ紹介も混ぜていますが、公式文書をよく見たら間違いないです。