# 销毁资源并释放内存

###### *version :2.0.2beta   Update:2019-5-8*

#####왜 자원 설명:

레이어르 3D 게임 개발에서 자원 석방이 중요하다.3D 자원은 모형, 스티커, 재질, 애니메이션 등을 포함해 좋은 화면 효과를 위해 파일이 2D보다 많이 크고, 3D 엔진은 기본 모든 자원을 GPU 에 넣어서 렌더를 계산하기 때문에 많은 현존을 점용한다.게임 관람료가 계속 가재되고, 게임이 끊임없이 깊숙이 들어가 있는 자원이 갈수록 많아지고, 자원을 방출하지 않으면 게임이 결국 무너진다.

메모리 같지 않고 메모리 쓰레기 회수 메커니즘이 있으며, 현존이 다르므로 수동적으로 석방되어야 하기 때문에 현존하는 자원 석방은 중요시되어야 합니다!

이번 사용의 예례는: 있다**자원 추가 편**의**자원 추가**간단히 고치다.

단일 자원 소각 메모리 를 제거하려면 이 자원 대상 을 호출 해야 한다`destroy()`방법.

> 격자 예례로 사용된 격자와 단독 게재된 칸은 같은 격자로 사용되었기 때문에 우리는 이 예시를 쓰기 전에 LayaMkey 폴더를 복사하고 Layamonkey2가 편의 설정과 예선 표시 구별할 수 있습니다.아직 사용하고 있는 격자에 대해 소각하면 오보를 초래할 수 있다.


```typescript

//加载Mesh
Laya.Mesh.load("res/threeDimen/skinModel/LayaMonkey2/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm", Laya.Handler.create(this, function(mesh) {
  	........
    //上面省略，我们再网格加载完成3秒后对该网格进行销毁
    Laya.timer.once(3000,this,function() 
    {
        //销毁了使用了该网格的精灵
        layaMonkey.destroy();
        //对网格进行销毁
        mesh.destroy();        
    });
}));
```


**가재 완료**

자원을 모두 다운로드한 후 67.26m의 명존을 볼 수 있으며 10.13m의 메모리.

이 격자를 단순히 소각하는 요정을 사용하면, 네덜란드 자원 자체에 처리되지 않고, 메모리 자원은 줄어들지 않을 것이다.(개발자 자체 주석은 격자에 대한 블랙코드 삭제 효과)

[] (img/1.png)<br>(1)

**삭제 후**

[] (img/2.png)<br>(2)

소각된 코드를 집행한 뒤 눈에 띄게 볼 수 있는 67.5M 의 현존, 10.04M 메모리.격자 모형이 이출되고 자원은 이미 소각되었다.

다른 자원 유형에 대응하려면 메쉬, Matrial, Texture2D 등 같은 방법으로 자원을 소각할 수 있습니다.
